<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1107px" preserveAspectRatio="none" style="width:2133px;height:1107px;background:#FFFFFF;" version="1.1" viewBox="0 0 2133 1107" width="2133px" zoomAndPan="magnify"><defs><filter height="300%" id="fumvwjntm1oe2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fumvwjntm1oe2)" height="127.7578" style="stroke:#000000;stroke-width:2.0;" width="925.5" x="20" y="221.7188"/><rect fill="#FFFFFF" height="32.3516" style="stroke:none;stroke-width:1.0;" width="925.5" x="20" y="317.125"/><rect fill="#FFFFFF" filter="url(#fumvwjntm1oe2)" height="498" style="stroke:#000000;stroke-width:2.0;" width="1193.5" x="925.5" y="424.1797"/><rect fill="#FFFFFF" filter="url(#fumvwjntm1oe2)" height="403.1094" style="stroke:#000000;stroke-width:2.0;" width="1173.5" x="935.5" y="449.5313"/><rect fill="#FFFFFF" height="338.0547" style="stroke:none;stroke-width:1.0;" width="1173.5" x="935.5" y="514.5859"/><rect fill="#FFFFFF" height="62.5391" style="stroke:none;stroke-width:1.0;" width="1193.5" x="925.5" y="859.6406"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="53" x2="53" y1="41.6094" y2="1062.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="371" x2="371" y1="41.6094" y2="1062.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="671.5" x2="671.5" y1="41.6094" y2="1062.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="839.5" x2="839.5" y1="41.6094" y2="1062.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="980.5" x2="980.5" y1="41.6094" y2="1062.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1414.5" x2="1414.5" y1="41.6094" y2="1062.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1755" x2="1755" y1="41.6094" y2="1062.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1881" x2="1881" y1="41.6094" y2="1062.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2050" x2="2050" y1="41.6094" y2="1062.4219"/><rect fill="#FEFECE" filter="url(#fumvwjntm1oe2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="43" x="30" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="37" y="26.5332">User</text><rect fill="#FEFECE" filter="url(#fumvwjntm1oe2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="43" x="30" y="1061.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="37" y="1082.9551">User</text><rect fill="#FEFECE" filter="url(#fumvwjntm1oe2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="127" x="306" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="313" y="26.5332">TuningsController</text><rect fill="#FEFECE" filter="url(#fumvwjntm1oe2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="127" x="306" y="1061.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="313" y="1082.9551">TuningsController</text><rect fill="#FEFECE" filter="url(#fumvwjntm1oe2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="122" x="608.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="615.5" y="26.5332">AbstractValidator</text><rect fill="#FEFECE" filter="url(#fumvwjntm1oe2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="122" x="608.5" y="1061.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="615.5" y="1082.9551">AbstractValidator</text><rect fill="#FEFECE" filter="url(#fumvwjntm1oe2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="187" x="744.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="751.5" y="26.5332">BasicAuthenticationHandler</text><rect fill="#FEFECE" filter="url(#fumvwjntm1oe2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="187" x="744.5" y="1061.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="751.5" y="1082.9551">BasicAuthenticationHandler</text><rect fill="#FEFECE" filter="url(#fumvwjntm1oe2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="66" x="945.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="952.5" y="26.5332">MediatR</text><rect fill="#FEFECE" filter="url(#fumvwjntm1oe2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="66" x="945.5" y="1061.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="952.5" y="1082.9551">MediatR</text><rect fill="#FEFECE" filter="url(#fumvwjntm1oe2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="132" x="1346.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1353.5" y="26.5332">AddTuningHandler</text><rect fill="#FEFECE" filter="url(#fumvwjntm1oe2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="132" x="1346.5" y="1061.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1353.5" y="1082.9551">AddTuningHandler</text><rect fill="#FEFECE" filter="url(#fumvwjntm1oe2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="91" x="1708" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1715" y="26.5332">AutoMapper</text><rect fill="#FEFECE" filter="url(#fumvwjntm1oe2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="91" x="1708" y="1061.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1715" y="1082.9551">AutoMapper</text><rect fill="#FEFECE" filter="url(#fumvwjntm1oe2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="133" x="1813" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1820" y="26.5332">CommandExecutor</text><rect fill="#FEFECE" filter="url(#fumvwjntm1oe2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="133" x="1813" y="1061.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1820" y="1082.9551">CommandExecutor</text><rect fill="#FEFECE" filter="url(#fumvwjntm1oe2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="93" x="2002" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="2009" y="26.5332">BazaDanych</text><rect fill="#FEFECE" filter="url(#fumvwjntm1oe2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="93" x="2002" y="1061.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="2009" y="1082.9551">BazaDanych</text><line style="stroke:#A80036;stroke-width:1.0;" x1="369.5" x2="359.5" y1="73.9609" y2="69.9609"/><line style="stroke:#A80036;stroke-width:1.0;" x1="369.5" x2="359.5" y1="73.9609" y2="77.9609"/><line style="stroke:#A80036;stroke-width:1.0;" x1="53.5" x2="370.5" y1="73.9609" y2="73.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294" x="60.5" y="69.1045">Dodaj nowy Tuning przez metodę AddTuningAsync</text><polygon fill="#A80036" points="659.5,100.3125,669.5,104.3125,659.5,108.3125,663.5,104.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="371.5" x2="665.5" y1="104.3125" y2="104.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="378.5" y="99.4561">Sprawdź, czy przekazane dane są poprawne</text><polygon fill="#A80036" points="382.5,130.6641,372.5,134.6641,382.5,138.6641,378.5,134.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="376.5" x2="670.5" y1="134.6641" y2="134.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276" x="388.5" y="129.8076">Zwróć ModelState z oceną poprawności danych</text><polygon fill="#A80036" points="828,202.7188,838,206.7188,828,210.7188,832,206.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="371.5" x2="834" y1="206.7188" y2="206.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="378.5" y="185.5107">Pobierz dane o użytkowniku z nagłówka</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="378.5" y="201.8623">wiadomości HTTP dotyczącej autoryzacji</text><path d="M20,221.7188 L81,221.7188 L81,229.7188 L71,239.7188 L20,239.7188 L20,221.7188 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="127.7578" style="stroke:#000000;stroke-width:2.0;" width="925.5" x="20" y="221.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="35" y="236.2139">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="194" x="96" y="235.1377">[Nie ma nagłówka autoryzacyjnego]</text><polygon fill="#A80036" points="382.5,258.4219,372.5,262.4219,382.5,266.4219,378.5,262.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="376.5" x2="839" y1="262.4219" y2="262.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="388.5" y="257.5654">Zwróć informację o błędzie podczas autoryzacji</text><polygon fill="#A80036" points="64.5,305.125,54.5,309.125,64.5,313.125,60.5,309.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.5" x2="370.5" y1="309.125" y2="309.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267" x="70.5" y="287.917">Zwróć error ze StatusCode 401 - Unauthorized</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="70.5" y="304.2686">i informacją o konieczności zalogowania</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="945.5" y1="318.125" y2="318.125"/><polygon fill="#A80036" points="382.5,337.4766,372.5,341.4766,382.5,345.4766,378.5,341.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="376.5" x2="839" y1="341.4766" y2="341.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="353" x="388.5" y="336.6201">Zwróć odczytane informacje o użytkowniku w formie Claimów</text><line style="stroke:#A80036;stroke-width:1.0;" x1="978.5" x2="968.5" y1="378.8281" y2="374.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="978.5" x2="968.5" y1="378.8281" y2="382.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="371.5" x2="979.5" y1="378.8281" y2="378.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="378.5" y="373.9717">Wyślij zapytanie</text><polygon fill="#A80036" points="1402.5,405.1797,1412.5,409.1797,1402.5,413.1797,1406.5,409.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="980.5" x2="1408.5" y1="409.1797" y2="409.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="352" x="987.5" y="404.3232">Inicjalizuj clasę, wstrzel zależności i wykonaj metodę Handle</text><path d="M925.5,424.1797 L986.5,424.1797 L986.5,432.1797 L976.5,442.1797 L925.5,442.1797 L925.5,424.1797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="498" style="stroke:#000000;stroke-width:2.0;" width="1193.5" x="925.5" y="424.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="940.5" y="438.6748">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="201" x="1001.5" y="437.5986">[W czasie pracy nie wystąpi wyjątek]</text><path d="M935.5,449.5313 L996.5,449.5313 L996.5,457.5313 L986.5,467.5313 L935.5,467.5313 L935.5,449.5313 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="403.1094" style="stroke:#000000;stroke-width:2.0;" width="1173.5" x="935.5" y="449.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="950.5" y="464.0264">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="274" x="1011.5" y="462.9502">[Przekazany typ użytkownika nie jest typu Admin]</text><polygon fill="#A80036" points="991.5,502.5859,981.5,506.5859,991.5,510.5859,987.5,506.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="985.5" x2="1413.5" y1="506.5859" y2="506.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="369" x="997.5" y="485.3779">Wyślij StatusCodeResponse ze StatusCode 401 - Unauthorized</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="410" x="997.5" y="501.7295">i informacją, że aby wykonać to polecenie, należy być administratorem</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="935.5" x2="2109" y1="515.5859" y2="515.5859"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="162" x="940.5" y="527.0049">[Użytkownik jest typu Admin]</text><polygon fill="#A80036" points="1743.5,548.7734,1753.5,552.7734,1743.5,556.7734,1747.5,552.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1414.5" x2="1749.5" y1="552.7734" y2="552.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="1421.5" y="547.917">Zamień request na typ Tuning do dodania</text><polygon fill="#A80036" points="1425.5,579.125,1415.5,583.125,1425.5,587.125,1421.5,583.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1419.5" x2="1754.5" y1="583.125" y2="583.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="1431.5" y="578.2686">Zwróć zamapowany obiekt</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1879.5" x2="1869.5" y1="629.8281" y2="625.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1879.5" x2="1869.5" y1="629.8281" y2="633.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1414.5" x2="1880.5" y1="629.8281" y2="629.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="1421.5" y="608.6201">Wywołaj polecenie dodania zamapowanego</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="1421.5" y="624.9717">obiektu do bazy danych</text><polygon fill="#A80036" points="2038.5,656.1797,2048.5,660.1797,2038.5,664.1797,2042.5,660.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1881.5" x2="2044.5" y1="660.1797" y2="660.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="1888.5" y="655.3232">Dodaj zmapowany obiekt</text><polygon fill="#A80036" points="1892.5,686.5313,1882.5,690.5313,1892.5,694.5313,1888.5,690.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1886.5" x2="2049.5" y1="690.5313" y2="690.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="1898.5" y="685.6748">Zwróć dodany obiekt</text><polygon fill="#A80036" points="1425.5,716.8828,1415.5,720.8828,1425.5,724.8828,1421.5,720.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1419.5" x2="1880.5" y1="720.8828" y2="720.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="1431.5" y="716.0264">Zwróć otrzymany obiekt z bazy danych</text><polygon fill="#A80036" points="1743.5,763.5859,1753.5,767.5859,1743.5,771.5859,1747.5,767.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1414.5" x2="1749.5" y1="767.5859" y2="767.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="317" x="1421.5" y="746.3779">Zamień otrzymany obiekt z bazy danych na typ Tuning</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="1421.5" y="762.7295">z przestrzeni nazw StringManager.Core.Models</text><polygon fill="#A80036" points="1425.5,793.9375,1415.5,797.9375,1425.5,801.9375,1421.5,797.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1419.5" x2="1754.5" y1="797.9375" y2="797.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="1431.5" y="793.0811">Zwróć zamapowany obiekt</text><polygon fill="#A80036" points="991.5,840.6406,981.5,844.6406,991.5,848.6406,987.5,844.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="985.5" x2="1413.5" y1="844.6406" y2="844.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="997.5" y="823.4326">Wyślij StatusCodeResponse ze StatusCode 400 - OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="997.5" y="839.7842">i dodanym, zmapowanym obiektem</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="925.5" x2="2119" y1="860.6406" y2="860.6406"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="181" x="930.5" y="872.0596">[W czasie pracy wystąpi wyjątek]</text><polygon fill="#A80036" points="991.5,910.1797,981.5,914.1797,991.5,918.1797,987.5,914.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="985.5" x2="1413.5" y1="914.1797" y2="914.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="997.5" y="892.9717">Wyślij StatusCodeResponse ze</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="398" x="997.5" y="909.3232">StatusCode 500 - InternalServerError i dodaną informacją co się stało</text><polygon fill="#A80036" points="382.5,947.5313,372.5,951.5313,382.5,955.5313,378.5,951.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="376.5" x2="979.5" y1="951.5313" y2="951.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="388.5" y="946.6748">Przekaż odpowiedź</text><polygon fill="#A80036" points="64.5,977.8828,54.5,981.8828,64.5,985.8828,60.5,981.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.5" x2="370.5" y1="981.8828" y2="981.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="70.5" y="977.0264">zwróć odpowiedź</text><polygon fill="#A80036" points="64.5,1040.4219,54.5,1044.4219,64.5,1048.4219,60.5,1044.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="58.5" x2="370.5" y1="1044.4219" y2="1044.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="70.5" y="1023.2139">Zwróć error ze StatusCode 400 - Bad Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="70.5" y="1039.5654">i informacją które dane były błędne</text><!--MD5=[b2a5873e411b09751c561977495cdea9]
@startuml SequenceDiagram
User ->> TuningsController : Dodaj nowy Tuning przez metodę AddTuningAsync
TuningsController -> AbstractValidator : Sprawdź, czy przekazane dane są poprawne
AbstractValidator - -> TuningsController : Zwróć ModelState z oceną poprawności danych
alt Dane są poprawne
    TuningsController -> BasicAuthenticationHandler : Pobierz dane o użytkowniku z nagłówka\nwiadomości HTTP dotyczącej autoryzacji
    alt Nie ma nagłówka autoryzacyjnego
        BasicAuthenticationHandler - -> TuningsController : Zwróć informację o błędzie podczas autoryzacji
        TuningsController - -> User : Zwróć error ze StatusCode 401 - Unauthorized\ni informacją o konieczności zalogowania
    else
        BasicAuthenticationHandler - -> TuningsController : Zwróć odczytane informacje o użytkowniku w formie Claimów
    end
    TuningsController ->> MediatR : Wyślij zapytanie
    MediatR -> AddTuningHandler : Inicjalizuj clasę, wstrzel zależności i wykonaj metodę Handle
    alt W czasie pracy nie wystąpi wyjątek
        alt Przekazany typ użytkownika nie jest typu Admin
            AddTuningHandler - -> MediatR: Wyślij StatusCodeResponse ze StatusCode 401 - Unauthorized\ni informacją, że aby wykonać to polecenie, należy być administratorem
        else Użytkownik jest typu Admin
            AddTuningHandler -> AutoMapper: Zamień request na typ Tuning do dodania
            AutoMapper - -> AddTuningHandler: Zwróć zamapowany obiekt
            AddTuningHandler ->> CommandExecutor: Wywołaj polecenie dodania zamapowanego\nobiektu do bazy danych
            CommandExecutor -> BazaDanych: Dodaj zmapowany obiekt
            BazaDanych - -> CommandExecutor: Zwróć dodany obiekt
            CommandExecutor - -> AddTuningHandler: Zwróć otrzymany obiekt z bazy danych
            AddTuningHandler -> AutoMapper: Zamień otrzymany obiekt z bazy danych na typ Tuning\nz przestrzeni nazw StringManager.Core.Models
            AutoMapper - -> AddTuningHandler: Zwróć zamapowany obiekt
            AddTuningHandler - -> MediatR: Wyślij StatusCodeResponse ze StatusCode 400 - OK\ni dodanym, zmapowanym obiektem
        end
    else W czasie pracy wystąpi wyjątek
        AddTuningHandler - -> MediatR: Wyślij StatusCodeResponse ze\nStatusCode 500 - InternalServerError i dodaną informacją co się stało
    end
    MediatR - -> TuningsController: Przekaż odpowiedź
    TuningsController - -> User: zwróć odpowiedź
else Dane nie są poprawne
    TuningsController -> User : Zwróć error ze StatusCode 400 - Bad Request\ni informacją które dane były błędne

@enduml

PlantUML version 1.2021.14(Fri Nov 12 17:46:50 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1250
Language: pl
Country: PL
--></g></svg>